<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DON'T BUY ADOPT ME</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR&display=swap" rel="stylesheet">
    <link href="css/header.css" rel="stylesheet" type="text/css" />
    <link href="css/recommend.css" rel="stylesheet" type="text/css" />
    <link href="css/reviewWrite.css" rel="stylesheet" type="text/css" />
	<script src="http://code.jquery.com/jquery.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-iYQeCzEYFbKjA/T2uDLTpkwGzCiq6soy8tYaI1GyVh/UjpbCx/TYkiZhlZB6+fzT" crossorigin="anonymous">
        <!-- 섬머노트 시작 -->
	<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
	<script src="/js/summernote/summernote-lite.js"></script>
	<script src="/js/summernote/lang/summernote-ko-KR.js"></script>
    <link rel="stylesheet" href="css/summernote/summernote-lite.css">
    <!-- 섬머노트 끝 -->

    <!-- style.css -->
    <link rel="stylesheet" href="${pageContext.request.contextPath }/assets/css/style.css">
</head>
<body>
    <header>
        <div>
            <div class="top">
                <!-- 헤더 왼쪽상단 -->
                <div class="left-top">
                    <div class="left-top-box">
                        <a class="join" href="../join.html">회원가입</a>
                        <div class="blank"></div>
                        <a class="login" href="../login.html">로그인</a>
                        <div class="blank"> </div>
                        <a class="cscenter-name" href="../join.html">고객센터
                            <span class="css-1o74ji9 eo4j3y50"></span>
                        </a>
                        <!-- <div class="cscenter-menu">
                            <div class="cscenter-menu1">공지사항</div>
                            <div class="cscenter-menu1">자주하는 질문</div>
                            <div class="cscenter-menu1">1:1 문의</div>
                        </div> -->
                    </div>
                </div>
                <!-- 헤더중간 -->
                <div class="middle">
                    <!-- 로고 -->
                    <a href="../index.html">
                        <div class="logo">
                            <img src="img/logo1.png" class="logo1">
                        </div>
                    </a>
                    <!-- 검색창 -->
                    <div class="search">
                        <div class="search-input">
                            <input id="gnb_search" placeholder="검색어를 입력해주세요" required=""  value="">
                            <button class="dodbogy"></button>
                        </div>
                    </div>
                    <!-- 장바구니 찜하기  -->
                    <div class="jjim-cart">
                        <button class="jjim" aria-label="찜하기" type="button"></button>
                        <div class="cart1">
                            <div> <button class="cart"></button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- 카테고리 -->
            <div id="category" class="category-box">
                <div class="category-box1">
                    <div class="category-li-box"></div>
                    <ul class="category-list">
                        <li class="category-li">
                            <a class="category-li-title" href="adout.html">입양</a>
                        </li>
                        <li class="category-li">
                            <a class="category-li-title" href="volunteer.html">봉사</a>
                        </li>
                        <li class="category-li">
                            <a class="category-li-title" href="review.html">입양후기</a>
                        </li>
                        <li class="category-li">
                            <a class="category-li-title" href="event.html">이벤트</a>
                        </li>
                    </ul>
                    <div class="category-li-box"></div>
                </div>
            </div>
        </div>
    </header>
       <!-- 글 작성 섹션 -->
       <section class="container-sm mb-5" style="max-width: 700px; margin-top: 100px;">
           <form action="${pageContext.request.contextPath}/board/BoardWriteOk.bo" method="post" name="boardForm">
               <div>
                   <article class="d-flex justify-content-between">
                       <div>
                           <!-- 버튼 -->
                            <select>
                                <option value="카테고리선택">카테고리선택</option> 
                                <option value="입양">입양</option>                            
                                <option value="봉사">봉사</option>      
                                <option value="입양후기">입양후기</option>                            
                            </select>
                            <select>
                                <option value="동물종류">동물종류 선택</option> 
                                <option value="강아지">강아지</option>                            
                                <option value="고양이">고양이</option>      
                                <option value="햄스터">햄스터</option>
                                <option value="파충류">파충류</option>       
                                <option value="기타">기타</option>                          
                            </select>
                            <select>
                                <option value="봉사 카테고리">봉사카테고리</option> 
                                <option value="자원봉사">자원봉사</option>                            
                                <option value="이동봉사">이동봉사</option>
                                <option value="임시보호">임시보호</option>      
                                <option value="기타">기타</option>                            
                            </select>
                       </div>
                       <div style="margin-left: auto;">
                           <button type="button" class="btn btn-outline-dark btn-sm mb-2" onclick="goBack();">취소</button>
                           <button type="button" class="btn btn-dark btn-sm mb-2" onclick="sendForm()">등록</button>
                       </div>
                   </article>
                   <article>
                       <!-- 제목을 입력해주세요. -->
                       <input id="board_title" name="board_title" type="text" class="form-control mb-3" placeholder="제목을 입력해주세요.">
                   </article>
                   <article>
                       <textarea id="summernote" name="board_content"></textarea>
                   </article>
                   <div id="send" class="d-none">        
                   </div>
               </div>
           </form>
       </section>  
       <!-- 글 작성 섹션 끝 -->
   <script>
   function goBack() {
     window.history.go(-1);
   }
   </script>
   <script>
       function sendForm(){
           if(!$("input#board_title").val()){
               alert("제목을 작성해주세요.");
               return;
           }
           if(!$("textarea[name='board_content']").val()){
               alert("내용을 작성해주세요.");
               return;
           }
           
           document.boardForm.submit();
       }
   </script>
   
   <!-- 섬머노트 스크립트 시작 -->
   <script>
       // imgedit 클릭시 이벤트
       $("#imgedit").click(function(){
           window.open("/board/ImgEdit.bo","imgEdit","width=700px; height=800px");
       });
   
       $('#summernote').summernote({
           placeholder: '내용을 입력해주세요.',
           tabsize: 2,
           height: 360,
           lang: 'ko-KR', // default: 'en-US'
           callbacks: {
               onImageUpload : function(file) {

                    sendFile(file[0],this);
               }
           }
       ,	toolbar: [
           ['style', ['style']],
           ['font', ['bold', 'underline', 'clear']],
           ['color', ['color']],
           ['para', ['ul', 'ol', 'paragraph']],
           ['insert', ['link', 'picture', 'video']]
           ]
       });
       
       // 썸머노트 url 접속을 위한 설정
       function sendFile(file, editor) {
          // 파일 전송을 위한 폼생성
           data = new FormData();
           data.append("uploadFile", file);
           
           $.ajax({
               data: data,
               type: "post",
               url: "/board/IMGUpload.bo",
                // 원래 있던 기능을 막기 위해
               contentType : false,	
               processData : false,
               
               success : function(data){
                   alert("이미지가 업로드되었습니다.");
                   $(editor).summernote('editor.insertImage', data.url);
                   let html = "";
                   html = '<input name="이행의데이터를전송시보드넘을박습니다" value="' + data.fileName + '"/>';
                   $('#send').append(html);
               }
           });
       }
   </script>
   <!-- 섬머노트 스크립트 끝 -->
   
   <!-- 폰트 깜박임 방지 시작 -->
   <!-- <script src="https://code.jquery.com/jquery-1.12.0.min.js"></script> -->
   
   <script type="text/javascript">
   $(document).ready(function () {  
     $("#no-fouc").delay(250).animate({"opacity": "1"}, 250);
   });
   </script>
   

</main>
</body>
</html>
